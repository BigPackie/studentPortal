<ion-header>
  <ion-toolbar color="light">
    <ion-buttons slot="end">
      <app-settings-popover></app-settings-popover>
    </ion-buttons>
    <ion-title>{{ 'TAB1.TITLE' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content id="home-tab" color="medium"> 
  <ion-card class="news">
    <div class="custom-card-header">
      <span>{{ 'TAB1.NEWS' | translate }}</span>
      <ion-badge *ngIf="news" color="dark">{{news.length}}</ion-badge>
    </div>
    <ion-slides class="news" [options]="slideOpts" pager="true" *ngIf="news;else newsLoading">
      <ion-slide *ngFor="let item of news">
        <img [src]="getNewsItemPicture(item)" (error)="showNewsErrorPicture($event.srcElement)"
          alt="There might be some issues with the connection."  routerLink="/tabs/tab1/news-detail/{{item._id}}"/>
      </ion-slide>
    </ion-slides>
  </ion-card>
  <ion-card color="dark" class="promotions" >
    <div class="custom-card-header">
      <span>{{ 'TAB1.PROMOTIONS' | translate }}</span>
      <ion-badge color="light">9</ion-badge>
    </div>
    <ion-grid>
      <ion-row>
        <ion-col size="6" class="ion-activatable">
          <ion-ripple-effect></ion-ripple-effect>
          <img src="assets/img/promotions/promotion-1.jpg" (click)="showPromotionDetail()"/>
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
        <ion-col size="6">
          <img src="assets/img/promotions/promotion-1.jpg" />
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>
</ion-content>

<ng-template #newsLoading><div class="ion-text-center">
    <ion-spinner></ion-spinner>
    <div>Loading news...</div>
</div></ng-template> <!--this does not handle error state of the observable-->